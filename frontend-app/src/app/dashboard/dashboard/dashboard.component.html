<mat-sidenav-container class="dashboard-container" fullscreen>

  <!-- Sidebar -->
  <mat-sidenav #sidebar class="dashboard-sidebar" mode="side" opened>
    <div class="sidebar-header">
      <img src="../../../assets/spherepro.png" alt="Logo" class="brand-image">
    </div>
    <mat-nav-list>
      <!-- Link to product list -->
      <a mat-list-item routerLink="/product-list" routerLinkActive="active-link">
        <mat-icon>dashboard</mat-icon>
        <span>Product List</span>
      </a>
      <!-- Link to invoices list -->
      <a mat-list-item routerLink="/invoices/my-invoices" routerLinkActive="active-link">
        <mat-icon>receipt</mat-icon>
        <span>My Invoices</span>
      </a>
      <!-- Link to user profile -->
      <a mat-list-item routerLink="/user-profile" routerLinkActive="active-link">
        <mat-icon>person</mat-icon>
        <span>User Profile</span>
      </a>
      <!-- Admin-only links -->
      <a mat-list-item *ngIf="isAdmin()" routerLink="/admin/product-management" routerLinkActive="active-link">
        <mat-icon>inventory_2</mat-icon>
        <span>Product Management</span>
      </a>
      <a mat-list-item *ngIf="isAdmin()" routerLink="/admin/users-list" routerLinkActive="active-link">
        <mat-icon>groups</mat-icon>
        <span>Users List</span>
      </a>
      <a mat-list-item *ngIf="isAdmin()" routerLink="/admin/invoices-list" routerLinkActive="active-link">
        <mat-icon>description</mat-icon>
        <span>Invoices List</span>
      </a>
      <a mat-list-item *ngIf="isAdmin()" routerLink="/admin/analytics" routerLinkActive="active-link">
        <mat-icon>analytics</mat-icon>
        <span>Analytics</span>
      </a>   
    </mat-nav-list>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content>

    <!-- Navbar -->
    <mat-toolbar class="dashboard-navbar">
      <!-- Button to toggle sidebar on smaller screens -->
      <button mat-icon-button (click)="sidebar.toggle()">
        <mat-icon>menu</mat-icon>
      </button>

      <span class="title">{{ userName }}</span>
      <span class="spacer"></span>

      <!-- Logout button -->
      <button mat-icon-button (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
      </button>
    </mat-toolbar>

    <!-- Child Views Area -->
    <div class="dashboard-content">
      <router-outlet></router-outlet>
    </div>

  </mat-sidenav-content>
</mat-sidenav-container>
